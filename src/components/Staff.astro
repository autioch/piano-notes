---
import Note from "./Note.astro";
import type { Note as NoteType, Pitch } from "../types/piano";

type Props = {
  notes: NoteType[];
};

const offsetMap: Record<Pitch, number> = {
  C: 27.75,
  D: 24.75,
  E: 21.75,
  F: 18.75,
  G: 15.75,
  A: 12.75,
  H: 9.75,
};
---

<rect x="0" y="1" width="100%" height="0.5" fill="#000"></rect>
<rect x="0" y="7" width="100%" height="0.5" fill="#000"></rect>
<rect x="0" y="13" width="100%" height="0.5" fill="#000"></rect>
<rect x="0" y="19" width="100%" height="0.5" fill="#000"></rect>
<rect x="0" y="25" width="100%" height="0.5" fill="#000"></rect>

{
  Astro.props.notes.map((note, i) => {
    return (
      <g transform={`translate(${20 * i + 10}, ${offsetMap[note.pitch]})`}>
        <Note note={note} />
      </g>
    );
  })
}
